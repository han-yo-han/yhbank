
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>ì†¡ê¸ˆ</title></head>
<body>
<h2>ğŸ” ì†¡ê¸ˆ</h2>
<form id="transferForm">
  <div><label>ë³´ë‚´ëŠ” ê³„ì¢Œë²ˆí˜¸:</label><input type="text" name="fromAccountNo" /></div>
  <div><label>ë°›ëŠ” ê³„ì¢Œë²ˆí˜¸:</label><input type="text" name="toAccountNo" /></div>
  <div><label>ì†¡ê¸ˆ ê¸ˆì•¡:</label><input type="number" name="amount" /></div>
  <div><label>ë©”ëª¨:</label><input type="text" name="memo" /></div>
  <div><label>ê°™ì€ ì€í–‰ ì—¬ë¶€:</label><input type="checkbox" name="sameBank" /></div>
  <button type="submit">ì†¡ê¸ˆí•˜ê¸°</button>
</form>
<script>
document.getElementById('transferForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const f = e.target;
  const res = await fetch('/transactions/transfer', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      fromAccountNo: f.fromAccountNo.value,
      toAccountNo: f.toAccountNo.value,
      amount: parseInt(f.amount.value),
      memo: f.memo.value,
      sameBank: f.sameBank.checked
    })
  });
  const result = await res.json();
  alert(result.message);
});
</script>
</body>
</html>
